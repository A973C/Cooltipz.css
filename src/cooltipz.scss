@import "./variables";
@import "./animations";
@import "./arrow";
@import "./visible";

/*
::before = arrow
::after = tooltip box and content
*/

[aria-label] {
  &[data-cooltipz-dir],
  &[class ^= "cooltipz"] { // Required - applies to all tooltips
    cursor: pointer;
    position: relative;

    &::after {
      background-color: var(--cooltipz-bg-color, #1f1f1f);
      border-radius: 0.125rem;
      box-shadow: 0 0 2px rgba(0, 0, 0, 0.5);
      color: var(--cooltipz-text-color, #fff);
      content: attr(aria-label);
      font-family: sans-serif;
      font-size: var(--cooltipz-font-size, 0.75rem);
      font-style: normal;
      font-weight: 400;
      padding: 0.5em 1em;
      text-indent: 0;
      text-shadow: none;
      white-space: nowrap;
      z-index: 10;
    }

    &::before {
      content: "";
      z-index: 11;
    }

    &::after,
    &::before {
      @include base-animations;
      @extend %hide-cooltip;
      pointer-events: none;
      position: absolute;
    }

    &:hover,
    &:focus,
    &[data-cooltipz-visible],
    &.cooltipz--visible {
      &::before,
      &::after {
        @extend %show-cooltip;
      }
    }

    &[data-cooltipz-static],
    &.cooltipz--static {
      &::after,
      &::before {
        @include no-animations;
      }
    }

    &[data-cooltipz-dir = "top"],
    &.cooltipz--top {
      &::after {
        margin-bottom: $cooltipz-arrow-size + 5px;
      }

      &::before {
        @include arrow-down;
      }

      &::after,
      &::before {
        bottom: 100%;
        left: 50%;
        transform: translate(-50%, var(--cooltipz-slide, 2px));
        transform-origin: top;
      }

      &:hover,
      &:focus,
      &[data-cooltipz-visible],
      &.cooltipz--visible {
        &::after,
        &::before {
          transform: translate(-50%, 0);
        }
      }
    }

    &[data-cooltipz-dir = "bottom"],
    &.cooltipz--bottom {
      &::after {
        margin-top: $cooltipz-arrow-size + 5px;
      }

      &::before {
        @include arrow-up;
      }

      &::after,
      &::before {
        left: 50%;
        top: 100%;
        transform: translate(-50%, calc(var(--cooltipz-slide, 2px) * -1));
        transform-origin: bottom;
      }

      &:hover,
      &:focus,
      &[data-cooltipz-visible],
      &.cooltipz--visible {
        &::after,
        &::before {
          transform: translate(-50%, 0);
        }
      }
    }
  }
}
